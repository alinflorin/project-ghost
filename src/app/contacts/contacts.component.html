<div fxLayout="column" fxLayoutGap="1rem">
  <div fxLayout="row" fxLayoutGap="1rem" fxLayoutAlign="flex-start center">
    <button (click)="openAddContact()" mat-raised-button color="accent">
      {{'ui.contacts.add' | translate}}
    </button>
    <button (click)="deleteSelectedContacts()" [disabled]="selectedContacts.length === 0" mat-raised-button color="warn">
      {{'ui.contacts.delete' | translate}}
    </button>
  </div>

  <mat-selection-list (selectionChange)="contactsSelectionChanged($event)">
    <mat-list-option [value]="p.email" *ngFor="let p of profiles">
      <button [routerLink]="'/conversation/' + p.email" class="hide-text" [matBadgeHidden]="!isOnline(p!)" [matBadgeOverlap]="true"
        matBadgePosition="below after" matBadge="." matBadgeColor="primary" matBadgeSize="small" mat-list-icon mat-icon-button>
        <img [src]="p.photo" class="h-100 d-block rounded" />
      </button>
      <div [routerLink]="'/conversation/' + p.email">{{p.displayName}}</div>
      <i [routerLink]="'/conversation/' + p.email" class="small">{{p.email}}</i>
    </mat-list-option>
  </mat-selection-list>
</div>
